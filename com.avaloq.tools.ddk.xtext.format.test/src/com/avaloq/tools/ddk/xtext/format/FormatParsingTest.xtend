/*
 * generated by Xtext 2.14.0
 */
package com.avaloq.tools.ddk.xtext.format

import com.avaloq.tools.ddk.xtext.format.format.FormatConfiguration
import com.google.inject.Inject
import org.eclipse.xtext.testing.InjectWith
import org.eclipse.xtext.testing.util.ParseHelper

import org.junit.jupiter.api.^extension.ExtendWith
import org.eclipse.xtext.testing.extensions.InjectionExtension
import org.junit.jupiter.api.Test
import static org.junit.jupiter.api.Assertions.assertNotNull
import static org.junit.jupiter.api.Assertions.assertFalse
import org.eclipse.xtext.resource.XtextResource

@ExtendWith(InjectionExtension)
@InjectWith(FormatInjectorProvider)
class FormatParsingTest {
  @Inject
  ParseHelper<FormatConfiguration> parseHelper

  @Test
  def void loadModel() {
    val result = parseHelper.parse('''
      formatter for MyDsl
      
      const String SOME_STRING = "";
      const int SOME_INT = 2;
      
      Person {
      }    '''
    )
    assertNotNull(result)
    assertFalse(
      ((result.eResource) as XtextResource).getParseResult.
        hasSyntaxErrors, '''Unexpected errors: «result.eResource.errors.join(", ")»''')
  }
}
